<a [routerLink]="tbProject.id">
  <nz-card
    nzHoverable
    [nzCover]="coverTemplate"
    [nzActions]="[taskCountTemplate]"
    class="tb-project-card"
  >
    <nz-card-meta [nzTitle]="tbProject.name"></nz-card-meta>
  </nz-card>
</a>

<ng-template #coverTemplate>
  <div
    *ngIf="tbProject.icon; else coverNameTemplate"
    class="tb-project-card-cover-image-container"
  >
    <img
      [src]="tbProject.icon.url | nzSanitizer: 'url'"
      width="214"
      height="170"
      alt="Project image"
    />
  </div>
</ng-template>
<ng-template #coverNameTemplate>
  <div
    nz-row
    nzJustify="center"
    nzAlign="middle"
    class="tb-project-card-cover-name"
    [style.backgroundColor]="backgroundColor"
  >
    <span>
      {{ tbProject.name.charAt(0) }}
    </span>
  </div>
</ng-template>

<ng-template #taskCountTemplate>
  <span nz-typography nzType="secondary" class="tb-project-card-task-counter">
    {{ tbProject.tasks.length }}
    <i nz-icon nzType="container"></i>
  </span>
</ng-template>
